# 📆 날짜: 2023-09-19, 2023-09-20

## 🎯 공통 질문: 깊은복사 vs 얕은복사

### 나라's 답변:

얕은복사, 깊은복사를 말하기 전 JavaScript에서 참조타입을 복사하는 것 부터 말씀드리겠습니다.
Javascript에서 참조타입을 복사를 진행한 대상은 새로운 주소값을 가지고 내부 값들은 원본값의 주소값을 할당합니다.
이런 현상을 "얕은 복사"라고 말합니다.
얕은 복사를 진행한 대상은 값의 수정이 이뤄질 때 원본 객체의 값 또한 같이 수정이 됩니다. 이 같은 현상을 방지하기 위해 "깊은 복사"라는 개념이 등장했습니다.
"깊은 복사"는 복사한 대상을 메모리에 할당합니다. 하여 복사 객체를 수정해도 원본 객체 값이 수정이 되지 않습니다.

---

### 슬기's 답변:

---

## <!-- 답변 -->

## 🔗 슬기's 꼬리질문 : 왜 복사에대해 공부를 할 때 참조타입을 먼저 알아보셨나요?

### 나라's 답변 :

얕은복사와 깊은복사에서 공통점은 값을 복사한다는 것이라고 생각했습니다. 이때 참조타입이 복사가 이뤄질 때 얕은복사가 실시되는 것을 먼저 소개한 뒤 이후 얕은복사의 단점인 원본 객체가 수정되고 이를 해결하기위해 깊은 복사가 등장했다 라는 식으로 순서대로 공부하기 위해서 참조타입의 복사를 먼저 공부했었습니다.

### 슬기's 답변 :

## 🔗 슬기's 꼬리질문 : 자바스크립트의 데이터타입을 말해주세요

### 나라's 답변 :

자바스크립트의 데이터타입에는 원시타입과 참조타입이 있습니다.
원시타입은 number, string, undefined, null, boolean, symbol, bigint 타입이 존재하며,
참조타입에는 function, Array, Object, date 등이 존재합니다.

### 슬기's 답변 :

## 🔗 슬기's 꼬리질문 : 스프레드 연산자는 어떤 복사죠?

### 나라's 답변 :

스프레드 연산자는 배열 또는 객체를 복사할 때 얕은복사가 이뤄집니다.

### 슬기's 답변 :

## 🔗 슬기's 꼬리질문 : 깊은복사의 필요성을 느낀적이 있었나요?, 진짜 깊은 복사를 해야하는 상황을 겪어보셨나요?

### 나라's 답변 :

프로젝트를 진행할 때 특정 객체를 활용할 때 수정이 이뤄지면 안되는 것을 알게 되었습니다.

### 슬기's 답변 :

## 🔗 슬기's 꼬리질문 : 어떤 방식으로 깊은복사를 사용하셨나요?

### 나라's 답변 :

라이브러리인 lodash에서 deepClone을 사용하여 깊은복사를 진행했었습니다.

### 슬기's 답변 :

## 🔗 슬기's 꼬리질문 : lodash에서 deep clone 을 이용해서 깊은복사를 공부하셨다하셨는데, 실제 예시 상황을 말씀해주세요.

### 나라's 답변 :

```javascript
const _ = require("lodash");

let obj = {
  a: 1,
  b: {
    c: 2,
    d: {
      e: 3,
    },
  },
  f: [4, 5, 6],
};

let clonedObj = _.cloneDeep(obj);

console.log(clonedObj); // {a: 1,b: {c: 2,d: {e: 3,},},f: [4, 5, 6]}
console.log(clonedObj.b.d === obj.b.d); // false
```

### 슬기's 답변 :

## 나라's 꼬리질문: lodash를 사용할 때 주의해야할 점이 있을까요?

### 나라's 답변 :

외부라이브러리를 가져와서 사용하는 것이기 때문에 해당 라이브러리를 사용하기 때문에 보안적 문제나 라이브러리 상 문제가 생겼을 때 발생되는 사이드 이펙트가 있을 것이라고 예상됩니다.

### 슬기's 답변 :

## 나라's 꼬리질문: 얕은복사를 할 경우 객체의 프로토타입까지 복사가 되나요?

### 나라's 답변 :

얕은 복사를 진행 할 경우 객체의 프로토타입까지는 복사가 안된다고 알고있습니다. 단 복사된 객체는 원본 객체와 동일한 프로토타입을 참조합니다.

### 슬기's 답변 :

## GPT's 꼬리질문 : 깊은 복사와 얕은 복사의 성능적 차이는 무엇인가요?

### 나라's 답변 :

깊은 복사는 상대적으로 얕은복사보다 더 깊은 레벨을 복사하기 때문에 시간적인 부분과 메모리적인 부분에서 더 많은 사용을 요구할 것이라고 생각합니다.

### 슬기's 답변 :

## GPT's 꼬리질문 : 깊은 복사를 수행할 때 순환 참조(circular reference)가 있는 객체를 복사하려고 하면 어떤 문제가 발생할까요?

### 나라's 답변 :

순환참조가 있는 객체를 복사할 때는 무한루프에 빠질 수 있다고 생각합니다. 객체안에서 이미 참조가 이뤄지는 것을 복사하려면 무한정으로 해당 참조를 복사하는 과정이 생길 것이라고 생각하기 때문입니다.
또한 이런 무한루프에 빠진다면 콜 스택이 오버되는 스택오버플로오류까지 예상됩니다.

### 슬기's 답변 :

---

#### REFERENCE

##### 나라

- 순환참조하는 객체를 복사하는 법
  [https://lazydev.gatsbyjs.io/javascript/different-ways-to-copy-objects-in-js/]

- \_cloneDeepWith 예제들..
  [https://lodash.com/docs/4.17.15#cloneDeep]

##### 슬기

<!-- 답변 -->

---
